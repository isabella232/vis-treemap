!function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";e.r(t);e(1);const r=e(5),i={showSubHeaders:{section:"Data",type:"boolean",label:"Show Sub Headers",default:"true"},cellColor:{section:"Data",type:"array",display:"colors",label:"Color Palette - Razorhorse",default:["#aa4336","#b04f43","#b4574c","#b86157","#bc6960","#c07169","#c47b73","#c8837c","#cc8c86","#d09590","#d59f9b","#daaaa8"]},breadcrumbs:{type:"array",default:[]}},o={options:i,create:function(n,t){this.style=document.createElement("style"),document.head.appendChild(this.style),this.container=r.select(n).append("div").attr("id","treemapContainer"),this.tooltip=r.select(n).append("div").attr("class","hidden").attr("id","tooltip")},updateAsync:function(n,t,e,u,a,s){this.clearErrors(),console.log("data",n),console.log("config",e),console.log("queryResponse",u);const c=t.clientWidth,l=t.clientHeight-16,f=t.getBoundingClientRect(),h=(f.x,f.width,f.y,f.height,u.fields.dimension_like),p=u.fields.measure_like,d=function(n,t){for(var e=i,r=[],o=0;o<t.length;o++){(a={})[t[o].label]=t[o].name,r.push(a)}e.sizeBy={section:"Data",type:"string",label:"Size By",display:"select",values:r,default:"0"};var u=[];for(o=0;o<n.length;o++){var a;(a={})[n[o].label]=n[o].name,u.push(a)}return e.colorBy={section:"Data",type:"string",label:"Color By",display:"select",values:u,default:"0"},e}(h,p);o.trigger("registerOptions",d);const v=function(n,t){var e=[];return n.forEach(n=>{var r={},i=0;for(var[o,u]of(r.metadata={},Object.entries(n))){if(r[o]=u.value,i<t.fields.dimension_like.length)var a=t.fields.dimension_like[i].label_short;else a=t.fields.measure_like[i-t.fields.dimension_like.length].label_short;if(void 0!==u.rendered)var s=u.rendered;else s=u.value;r.metadata[o]={label:a,rendered:s,links:u.links},i+=1}e.push(r)}),e}(n,u);(function(n){var t=[];n.fields.dimension_like.forEach(n=>{t.push(n.name)})})(u),function(n){var t=[];n.fields.measure_like.forEach(n=>{t.push(n.name)})}(u),r.scaleOrdinal().range(e.cellColor);var y=r.treemap().size([c,l]).padding(n=>1===n.depth?2:0).paddingTop(n=>e.showSubHeaders?n.depth<2?16:0:0===n.depth?16:0).round(!0);const g=function(n){if("count_of_rows"==e.sizeBy)return n.key?0:1;{let t=e.sizeBy;return parseFloat(n[t])}};!function(n){var t=r.nest();h.forEach(n=>t=t.key(t=>t[n.name])),t={key:"root",values:t=t.entries(n)};y(r.hierarchy(t,n=>n.values).sum(n=>g(n)).sort((function(n,t){return t.height-n.height||g(t)-g(n)})))}(v),s()}};looker.plugins.visualizations.add(o)},function(n,t,e){var r=e(2),i=e(3);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[n.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);n.exports=i.locals||{}},function(n,t,e){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var n={};return function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}n[t]=e}return n[t]}}(),u=[];function a(n){for(var t=-1,e=0;e<u.length;e++)if(u[e].identifier===n){t=e;break}return t}function s(n,t){for(var e={},r=[],i=0;i<n.length;i++){var o=n[i],s=t.base?o[0]+t.base:o[0],c=e[s]||0,l="".concat(s," ").concat(c);e[s]=c+1;var f=a(l),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(u[f].references++,u[f].updater(h)):u.push({identifier:l,updater:y(h,t),references:1}),r.push(l)}return r}function c(n){var t=document.createElement("style"),r=n.attributes||{};if(void 0===r.nonce){var i=e.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(n){t.setAttribute(n,r[n])})),"function"==typeof n.insert)n.insert(t);else{var u=o(n.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(t)}return t}var l,f=(l=[],function(n,t){return l[n]=t,l.filter(Boolean).join("\n")});function h(n,t,e,r){var i=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(n.styleSheet)n.styleSheet.cssText=f(t,i);else{var o=document.createTextNode(i),u=n.childNodes;u[t]&&n.removeChild(u[t]),u.length?n.insertBefore(o,u[t]):n.appendChild(o)}}function p(n,t,e){var r=e.css,i=e.media,o=e.sourceMap;if(i?n.setAttribute("media",i):n.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleSheet)n.styleSheet.cssText=r;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(r))}}var d=null,v=0;function y(n,t){var e,r,i;if(t.singleton){var o=v++;e=d||(d=c(t)),r=h.bind(null,e,o,!1),i=h.bind(null,e,o,!0)}else e=c(t),r=p.bind(null,e,t),i=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)};return r(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;r(n=t)}else i()}}n.exports=function(n,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var e=s(n=n||[],t);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var r=0;r<e.length;r++){var i=a(e[r]);u[i].references--}for(var o=s(n,t),c=0;c<e.length;c++){var l=a(e[c]);0===u[l].references&&(u[l].updater(),u.splice(l,1))}e=o}}}},function(n,t,e){(t=e(4)(!1)).push([n.i,"rect {\n    border: 1px solid transparent;\n    pointer-events: all;\n}\nrect:hover {\n    border: 1px solid black;\n}\n\n#tooltip {\n    position: absolute;\n    width: auto;\n    height: auto;\n    padding: 5px;\n    background-color: white;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    border-radius: 4px;\n    -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);\n    pointer-events: none;\n    font-family: sans-serif;\n    font-size: 12px;\n}\n\n#tooltip:hover {\n    background-color: #aa4336;\n}\n\n\n#tooltip.hidden {\n    display: none;\n}\n\n#tooltip p {\n    margin: 0;\n    font-family: sans-serif;\n    font-size: 12px;\n    line-height: 15px;\n}\n\n.textdiv {\n    border: 1px solid transparent;\n    font-family: 'Roboto', \"Open Sans\",Helvetica,Arial,sans-serif;\n    font-size: 11px;\n    pointer-events: none;\n    overflow: none;    \n    word-wrap: break-word;\n    \n}\n\n.textdiv:hover {\n    border: 1px solid #000\n}\n\n\n.foreignobj{\n    border: 1px solid transparent;\n    padding-left: 5px;\n    padding-top: 0px;\n    margin-top: 5px;\n    word-wrap: break-word;\n}\n\n\n.foreignobj:hover{  \n    border: 1px black;\n}\n\n.navigation{\n    white-space: nowrap;\n}",""]),n.exports=t},function(n,t,e){"use strict";n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=function(n,t){var e=n[1]||"",r=n[3];if(!r)return e;if(t&&"function"==typeof btoa){var i=(u=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(u)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(s," */")),o=r.sources.map((function(n){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(n," */")}));return[e].concat(o).concat([i]).join("\n")}var u,a,s;return[e].join("\n")}(t,n);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,r){"string"==typeof n&&(n=[[null,n,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(i[u]=!0)}for(var a=0;a<n.length;a++){var s=[].concat(n[a]);r&&i[s[0]]||(e&&(s[2]?s[2]="".concat(e," and ").concat(s[2]):s[2]=e),t.push(s))}},t}},function(n,t,e){"use strict";function r(){}e.r(t),e.d(t,"select",(function(){return fn})),e.d(t,"event",(function(){return Y})),e.d(t,"hierarchy",(function(){return pn})),e.d(t,"treemap",(function(){return kn})),e.d(t,"nest",(function(){return Bn})),e.d(t,"scaleOrdinal",(function(){return Dn}));var i=function(n){return null==n?r:function(){return this.querySelector(n)}};function o(){return[]}var u=function(n){return new Array(n.length)};function a(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}a.prototype={constructor:a,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function s(n,t,e,r,i,o){for(var u,s=0,c=t.length,l=o.length;s<l;++s)(u=t[s])?(u.__data__=o[s],r[s]=u):e[s]=new a(n,o[s]);for(;s<c;++s)(u=t[s])&&(i[s]=u)}function c(n,t,e,r,i,o,u){var s,c,l,f={},h=t.length,p=o.length,d=new Array(h);for(s=0;s<h;++s)(c=t[s])&&(d[s]=l="$"+u.call(c,c.__data__,s,t),l in f?i[s]=c:f[l]=c);for(s=0;s<p;++s)(c=f[l="$"+u.call(n,o[s],s,o)])?(r[s]=c,c.__data__=o[s],f[l]=null):e[s]=new a(n,o[s]);for(s=0;s<h;++s)(c=t[s])&&f[d[s]]===c&&(i[s]=c)}function l(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}var f="http://www.w3.org/1999/xhtml",h={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},p=function(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),h.hasOwnProperty(t)?{space:h[t],local:n}:n};function d(n){return function(){this.removeAttribute(n)}}function v(n){return function(){this.removeAttributeNS(n.space,n.local)}}function y(n,t){return function(){this.setAttribute(n,t)}}function g(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function m(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function _(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}var b=function(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView};function w(n){return function(){this.style.removeProperty(n)}}function x(n,t,e){return function(){this.style.setProperty(n,t,e)}}function A(n,t,e){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function S(n,t){return n.style.getPropertyValue(t)||b(n).getComputedStyle(n,null).getPropertyValue(t)}function k(n){return function(){delete this[n]}}function C(n,t){return function(){this[n]=t}}function E(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function M(n){return n.trim().split(/^|\s+/)}function B(n){return n.classList||new N(n)}function N(n){this._node=n,this._names=M(n.getAttribute("class")||"")}function O(n,t){for(var e=B(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function j(n,t){for(var e=B(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function z(n){return function(){O(this,n)}}function T(n){return function(){j(this,n)}}function L(n,t){return function(){(t.apply(this,arguments)?O:j)(this,n)}}N.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function P(){this.textContent=""}function R(n){return function(){this.textContent=n}}function $(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function D(){this.innerHTML=""}function H(n){return function(){this.innerHTML=n}}function I(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function q(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===f&&t.documentElement.namespaceURI===f?t.createElement(n):t.createElementNS(e,n)}}function F(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}var J=function(n){var t=p(n);return(t.local?F:V)(t)};function K(){return null}function W(){var n=this.parentNode;n&&n.removeChild(this)}function X(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function G(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}var Q={},Y=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Q={mouseenter:"mouseover",mouseleave:"mouseout"}));function Z(n,t,e){return n=nn(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function nn(n,t,e){return function(r){var i=Y;Y=r;try{n.call(this,this.__data__,t,e)}finally{Y=i}}}function tn(n){return n.trim().split(/^|\s+/).map((function(n){var t="",e=n.indexOf(".");return e>=0&&(t=n.slice(e+1),n=n.slice(0,e)),{type:n,name:t}}))}function en(n){return function(){var t=this.__on;if(t){for(var e,r=0,i=-1,o=t.length;r<o;++r)e=t[r],n.type&&e.type!==n.type||e.name!==n.name?t[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?t.length=i:delete this.__on}}}function rn(n,t,e){var r=Q.hasOwnProperty(n.type)?Z:nn;return function(i,o,u){var a,s=this.__on,c=r(t,o,u);if(s)for(var l=0,f=s.length;l<f;++l)if((a=s[l]).type===n.type&&a.name===n.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=e),void(a.value=t);this.addEventListener(n.type,c,e),a={type:n.type,name:n.name,value:t,listener:c,capture:e},s?s.push(a):this.__on=[a]}}function on(n,t,e){var r=b(n),i=r.CustomEvent;"function"==typeof i?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}function un(n,t){return function(){return on(this,n,t)}}function an(n,t){return function(){return on(this,n,t.apply(this,arguments))}}var sn=[null];function cn(n,t){this._groups=n,this._parents=t}function ln(){return new cn([[document.documentElement]],sn)}cn.prototype=ln.prototype={constructor:cn,select:function(n){"function"!=typeof n&&(n=i(n));for(var t=this._groups,e=t.length,r=new Array(e),o=0;o<e;++o)for(var u,a,s=t[o],c=s.length,l=r[o]=new Array(c),f=0;f<c;++f)(u=s[f])&&(a=n.call(u,u.__data__,f,s))&&("__data__"in u&&(a.__data__=u.__data__),l[f]=a);return new cn(r,this._parents)},selectAll:function(n){var t;"function"!=typeof n&&(n=null==(t=n)?o:function(){return this.querySelectorAll(t)});for(var e=this._groups,r=e.length,i=[],u=[],a=0;a<r;++a)for(var s,c=e[a],l=c.length,f=0;f<l;++f)(s=c[f])&&(i.push(n.call(s,s.__data__,f,c)),u.push(s));return new cn(i,u)},filter:function(n){var t;"function"!=typeof n&&(t=n,n=function(){return this.matches(t)});for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o)for(var u,a=e[o],s=a.length,c=i[o]=[],l=0;l<s;++l)(u=a[l])&&n.call(u,u.__data__,l,a)&&c.push(u);return new cn(i,this._parents)},data:function(n,t){if(!n)return y=new Array(this.size()),h=-1,this.each((function(n){y[++h]=n})),y;var e,r=t?c:s,i=this._parents,o=this._groups;"function"!=typeof n&&(e=n,n=function(){return e});for(var u=o.length,a=new Array(u),l=new Array(u),f=new Array(u),h=0;h<u;++h){var p=i[h],d=o[h],v=d.length,y=n.call(p,p&&p.__data__,h,i),g=y.length,m=l[h]=new Array(g),_=a[h]=new Array(g);r(p,d,m,_,f[h]=new Array(v),y,t);for(var b,w,x=0,A=0;x<g;++x)if(b=m[x]){for(x>=A&&(A=x+1);!(w=_[A])&&++A<g;);b._next=w||null}}return(a=new cn(a,i))._enter=l,a._exit=f,a},enter:function(){return new cn(this._enter||this._groups.map(u),this._parents)},exit:function(){return new cn(this._exit||this._groups.map(u),this._parents)},join:function(n,t,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof n?n(r):r.append(n+""),null!=t&&(i=t(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(n){for(var t=this._groups,e=n._groups,r=t.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s,c=t[a],l=e[a],f=c.length,h=u[a]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;a<r;++a)u[a]=t[a];return new cn(u,this._parents)},order:function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r,i=n[t],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=l);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],s=a.length,c=i[o]=new Array(s),f=0;f<s;++f)(u=a[f])&&(c[f]=u);c.sort(t)}return new cn(i,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),t=-1;return this.each((function(){n[++t]=this})),n},node:function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var n=0;return this.each((function(){++n})),n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i,o=t[e],u=0,a=o.length;u<a;++u)(i=o[u])&&n.call(i,i.__data__,u,o);return this},attr:function(n,t){var e=p(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==t?e.local?v:d:"function"==typeof t?e.local?_:m:e.local?g:y)(e,t))},style:function(n,t,e){return arguments.length>1?this.each((null==t?w:"function"==typeof t?A:x)(n,t,null==e?"":e)):S(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?k:"function"==typeof t?E:C)(n,t)):this.node()[n]},classed:function(n,t){var e=M(n+"");if(arguments.length<2){for(var r=B(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof t?L:t?z:T)(e,t))},text:function(n){return arguments.length?this.each(null==n?P:("function"==typeof n?$:R)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?D:("function"==typeof n?I:H)(n)):this.node().innerHTML},raise:function(){return this.each(q)},lower:function(){return this.each(U)},append:function(n){var t="function"==typeof n?n:J(n);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(n,t){var e="function"==typeof n?n:J(n),r=null==t?K:"function"==typeof t?t:i(t);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(W)},clone:function(n){return this.select(n?G:X)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,e){var r,i,o=tn(n+""),u=o.length;if(!(arguments.length<2)){for(a=t?rn:en,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],t,e));return this}var a=this.node().__on;if(a)for(var s,c=0,l=a.length;c<l;++c)for(r=0,s=a[c];r<u;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(n,t){return this.each(("function"==typeof t?an:un)(n,t))}};var fn=function(n){return"string"==typeof n?new cn([[document.querySelector(n)]],[document.documentElement]):new cn([[n]],sn)};function hn(n){var t=0,e=n.children,r=e&&e.length;if(r)for(;--r>=0;)t+=e[r].value;else t=1;n.value=t}function pn(n,t){var e,r,i,o,u,a=new gn(n),s=+n.value&&(a.value=n.value),c=[a];for(null==t&&(t=dn);e=c.pop();)if(s&&(e.value=+e.data.value),(i=t(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)c.push(r=e.children[o]=new gn(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(yn)}function dn(n){return n.children}function vn(n){n.data=n.data.data}function yn(n){var t=0;do{n.height=t}while((n=n.parent)&&n.height<++t)}function gn(n){this.data=n,this.depth=this.height=0,this.parent=null}gn.prototype=pn.prototype={constructor:gn,count:function(){return this.eachAfter(hn)},each:function(n){var t,e,r,i,o=this,u=[o];do{for(t=u.reverse(),u=[];o=t.pop();)if(n(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(n){for(var t,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),t=i.children)for(e=0,r=t.length;e<r;++e)o.push(t[e]);for(;i=u.pop();)n(i);return this},eachBefore:function(n){for(var t,e,r=this,i=[r];r=i.pop();)if(n(r),t=r.children)for(e=t.length-1;e>=0;--e)i.push(t[e]);return this},sum:function(n){return this.eachAfter((function(t){for(var e=+n(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)e+=r[i].value;t.value=e}))},sort:function(n){return this.eachBefore((function(t){t.children&&t.children.sort(n)}))},path:function(n){for(var t=this,e=function(n,t){if(n===t)return n;var e=n.ancestors(),r=t.ancestors(),i=null;n=e.pop(),t=r.pop();for(;n===t;)i=n,n=e.pop(),t=r.pop();return i}(t,n),r=[t];t!==e;)t=t.parent,r.push(t);for(var i=r.length;n!==e;)r.splice(i,0,n),n=n.parent;return r},ancestors:function(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t},descendants:function(){var n=[];return this.each((function(t){n.push(t)})),n},leaves:function(){var n=[];return this.eachBefore((function(t){t.children||n.push(t)})),n},links:function(){var n=this,t=[];return n.each((function(e){e!==n&&t.push({source:e.parent,target:e})})),t},copy:function(){return pn(this).eachBefore(vn)}};var mn=function(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)},_n=function(n,t,e,r,i){for(var o,u=n.children,a=-1,s=u.length,c=n.value&&(r-t)/n.value;++a<s;)(o=u[a]).y0=e,o.y1=i,o.x0=t,o.x1=t+=o.value*c},bn=function(n,t,e,r,i){for(var o,u=n.children,a=-1,s=u.length,c=n.value&&(i-e)/n.value;++a<s;)(o=u[a]).x0=t,o.x1=r,o.y0=e,o.y1=e+=o.value*c};var wn=function n(t){function e(n,e,r,i,o){!function(n,t,e,r,i,o){for(var u,a,s,c,l,f,h,p,d,v,y,g=[],m=t.children,_=0,b=0,w=m.length,x=t.value;_<w;){s=i-e,c=o-r;do{l=m[b++].value}while(!l&&b<w);for(f=h=l,y=l*l*(v=Math.max(c/s,s/c)/(x*n)),d=Math.max(h/y,y/f);b<w;++b){if(l+=a=m[b].value,a<f&&(f=a),a>h&&(h=a),y=l*l*v,(p=Math.max(h/y,y/f))>d){l-=a;break}d=p}g.push(u={value:l,dice:s<c,children:m.slice(_,b)}),u.dice?_n(u,e,r,i,x?r+=c*l/x:o):bn(u,e,r,x?e+=s*l/x:i,o),x-=l,_=b}}(t,n,e,r,i,o)}return e.ratio=function(t){return n((t=+t)>1?t:1)},e}((1+Math.sqrt(5))/2);function xn(n){if("function"!=typeof n)throw new Error;return n}function An(){return 0}var Sn=function(n){return function(){return n}},kn=function(){var n=wn,t=!1,e=1,r=1,i=[0],o=An,u=An,a=An,s=An,c=An;function l(n){return n.x0=n.y0=0,n.x1=e,n.y1=r,n.eachBefore(f),i=[0],t&&n.eachBefore(mn),n}function f(t){var e=i[t.depth],r=t.x0+e,l=t.y0+e,f=t.x1-e,h=t.y1-e;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=h,t.children&&(e=i[t.depth+1]=o(t)/2,r+=c(t)-e,l+=u(t)-e,(f-=a(t)-e)<r&&(r=f=(r+f)/2),(h-=s(t)-e)<l&&(l=h=(l+h)/2),n(t,r,l,f,h))}return l.round=function(n){return arguments.length?(t=!!n,l):t},l.size=function(n){return arguments.length?(e=+n[0],r=+n[1],l):[e,r]},l.tile=function(t){return arguments.length?(n=xn(t),l):n},l.padding=function(n){return arguments.length?l.paddingInner(n).paddingOuter(n):l.paddingInner()},l.paddingInner=function(n){return arguments.length?(o="function"==typeof n?n:Sn(+n),l):o},l.paddingOuter=function(n){return arguments.length?l.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):l.paddingTop()},l.paddingTop=function(n){return arguments.length?(u="function"==typeof n?n:Sn(+n),l):u},l.paddingRight=function(n){return arguments.length?(a="function"==typeof n?n:Sn(+n),l):a},l.paddingBottom=function(n){return arguments.length?(s="function"==typeof n?n:Sn(+n),l):s},l.paddingLeft=function(n){return arguments.length?(c="function"==typeof n?n:Sn(+n),l):c},l};function Cn(){}function En(n,t){var e=new Cn;if(n instanceof Cn)n.each((function(n,t){e.set(t,n)}));else if(Array.isArray(n)){var r,i=-1,o=n.length;if(null==t)for(;++i<o;)e.set(i,n[i]);else for(;++i<o;)e.set(t(r=n[i],i,n),r)}else if(n)for(var u in n)e.set(u,n[u]);return e}Cn.prototype=En.prototype={constructor:Cn,has:function(n){return"$"+n in this},get:function(n){return this["$"+n]},set:function(n,t){return this["$"+n]=t,this},remove:function(n){var t="$"+n;return t in this&&delete this[t]},clear:function(){for(var n in this)"$"===n[0]&&delete this[n]},keys:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)"$"===t[0]&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)"$"===t[0]&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)"$"===t[0]&&++n;return n},empty:function(){for(var n in this)if("$"===n[0])return!1;return!0},each:function(n){for(var t in this)"$"===t[0]&&n(this[t],t.slice(1),this)}};var Mn=En,Bn=function(){var n,t,e,r=[],i=[];function o(e,i,u,a){if(i>=r.length)return null!=n&&e.sort(n),null!=t?t(e):e;for(var s,c,l,f=-1,h=e.length,p=r[i++],d=Mn(),v=u();++f<h;)(l=d.get(s=p(c=e[f])+""))?l.push(c):d.set(s,[c]);return d.each((function(n,t){a(v,t,o(n,i,u,a))})),v}return e={object:function(n){return o(n,0,Nn,On)},map:function(n){return o(n,0,jn,zn)},entries:function(n){return function n(e,o){if(++o>r.length)return e;var u,a=i[o-1];return null!=t&&o>=r.length?u=e.entries():(u=[],e.each((function(t,e){u.push({key:e,values:n(t,o)})}))),null!=a?u.sort((function(n,t){return a(n.key,t.key)})):u}(o(n,0,jn,zn),0)},key:function(n){return r.push(n),e},sortKeys:function(n){return i[r.length-1]=n,e},sortValues:function(t){return n=t,e},rollup:function(n){return t=n,e}}};function Nn(){return{}}function On(n,t,e){n[t]=e}function jn(){return Mn()}function zn(n,t,e){n.set(t,e)}function Tn(){}var Ln=Mn.prototype;function Pn(n,t){var e=new Tn;if(n instanceof Tn)n.each((function(n){e.add(n)}));else if(n){var r=-1,i=n.length;if(null==t)for(;++r<i;)e.add(n[r]);else for(;++r<i;)e.add(t(n[r],r,n))}return e}Tn.prototype=Pn.prototype={constructor:Tn,has:Ln.has,add:function(n){return this["$"+(n+="")]=n,this},remove:Ln.remove,clear:Ln.clear,values:Ln.keys,size:Ln.size,empty:Ln.empty,each:Ln.each};function Rn(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}const $n=Symbol("implicit");function Dn(){var n=new Map,t=[],e=[],r=$n;function i(i){var o=i+"",u=n.get(o);if(!u){if(r!==$n)return r;n.set(o,u=t.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return t.slice();t=[],n=new Map;for(const r of e){const e=r+"";n.has(e)||n.set(e,t.push(r))}return i},i.range=function(n){return arguments.length?(e=Array.from(n),i):e.slice()},i.unknown=function(n){return arguments.length?(r=n,i):r},i.copy=function(){return Dn(t,e).unknown(r)},Rn.apply(i,arguments),i}}]);
//# sourceMappingURL=treemap.js.map